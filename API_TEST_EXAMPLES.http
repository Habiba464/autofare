"""
API Test Suite for Automated Toll Collection System
This file contains example requests for testing all API endpoints.
"""

# ============================================================================
# 1. USER MANAGEMENT ENDPOINTS
# ============================================================================

# 1.1 Get All Users
# Request: GET /api/users
# Expected Status: 200 OK

GET http://localhost:8000/api/users/

# Response:
# [
#   {
#     "user_id": "1",
#     "name": "John Doe",
#     "email": "john@example.com",
#     "phone": "1234567890"
#   }
# ]

# ============================================================================

# 1.2 Create New User
# Request: POST /api/users
# Expected Status: 201 Created

POST http://localhost:8000/api/users/
Content-Type: application/json

{
  "name": "Alice Johnson",
  "email": "alice@example.com",
  "phone": "5555555555"
}

# Response:
# {
#   "message": "User added successfully",
#   "user_id": "2"
# }

# ============================================================================

# 1.3 Delete User
# Request: DELETE /api/users/1
# Expected Status: 200 OK

DELETE http://localhost:8000/api/users/1/

# Response:
# {
#   "message": "User deleted successfully"
# }

# ============================================================================
# 2. VEHICLE MANAGEMENT ENDPOINTS
# ============================================================================

# 2.1 Get All Vehicles
# Request: GET /api/user/car
# Expected Status: 200 OK

GET http://localhost:8000/api/user/car/

# Response:
# [
#   {
#     "car_id": "1",
#     "user_id": "1",
#     "license_plate": "XYZ-987",
#     "model": "Toyota Camry",
#     "color": "Blue"
#   }
# ]

# ============================================================================

# 2.2 Get Vehicles for Specific User
# Request: GET /api/user/car?user_id=1
# Expected Status: 200 OK

GET http://localhost:8000/api/user/car/?user_id=1

# Response:
# [
#   {
#     "car_id": "1",
#     "user_id": "1",
#     "license_plate": "XYZ-987",
#     "model": "Toyota Camry",
#     "color": "Blue"
#   }
# ]

# ============================================================================

# 2.3 Add New Vehicle
# Request: POST /api/user/car
# Expected Status: 201 Created

POST http://localhost:8000/api/user/car/
Content-Type: application/json

{
  "user_id": 1,
  "license_plate": "DEF-456",
  "model": "Honda Civic",
  "color": "Red",
  "vehicle_type": "car"
}

# Response:
# {
#   "message": "Vehicle added successfully",
#   "car_id": "2"
# }

# ============================================================================

# 2.4 Delete Vehicle
# Request: DELETE /api/user/car/1
# Expected Status: 200 OK

DELETE http://localhost:8000/api/user/car/1/

# Response:
# {
#   "message": "Vehicle deleted successfully"
# }

# ============================================================================
# 3. WALLET MANAGEMENT ENDPOINTS
# ============================================================================

# 3.1 Get Wallet Balance and Transactions
# Request: GET /api/user/wallet?user_id=1
# Expected Status: 200 OK

GET http://localhost:8000/api/user/wallet?user_id=1

# Response:
# {
#   "user_id": "1",
#   "balance": 250.75,
#   "transactions": [
#     {
#       "transaction_id": "TXN001",
#       "amount": 50.00,
#       "transaction_type": "top-up",
#       "date": "2026-02-25T10:00:00Z"
#     }
#   ]
# }

# ============================================================================

# 3.2 Add Funds to Wallet
# Request: POST /api/user/wallet
# Expected Status: 200 OK

POST http://localhost:8000/api/user/wallet
Content-Type: application/json

{
  "user_id": 1,
  "amount": 100.00
}

# Response:
# {
#   "message": "Wallet updated successfully",
#   "new_balance": 350.75
# }

# ============================================================================
# 4. TOLL CAPTURE ENDPOINTS
# ============================================================================

# 4.1 Capture Vehicle at Gate
# Request: POST /api/capture/GATE01
# Expected Status: 200 OK

POST http://localhost:8000/api/capture/GATE01/
Content-Type: application/json

{
  "license_plate": "XYZ-987"
}

# Response:
# {
#   "message": "Toll captured successfully",
#   "user_id": "1",
#   "amount_charged": 5.50,
#   "location": "Gate 01 - Highway 5",
#   "timestamp": "2026-02-25T14:30:00Z"
# }

# ============================================================================
# CURL EXAMPLES
# ============================================================================

# Get all users:
# curl -X GET http://localhost:8000/api/users/

# Create user:
# curl -X POST http://localhost:8000/api/users/ \
#   -H "Content-Type: application/json" \
#   -d '{"name":"John Doe","email":"john@example.com","phone":"1234567890"}'

# Add vehicle:
# curl -X POST http://localhost:8000/api/user/car/ \
#   -H "Content-Type: application/json" \
#   -d '{"user_id":1,"license_plate":"ABC-123","model":"Honda Civic","color":"Red","vehicle_type":"car"}'

# Get wallet:
# curl -X GET "http://localhost:8000/api/user/wallet?user_id=1"

# Add funds:
# curl -X POST http://localhost:8000/api/user/wallet \
#   -H "Content-Type: application/json" \
#   -d '{"user_id":1,"amount":100.00}'

# Capture toll:
# curl -X POST http://localhost:8000/api/capture/GATE01/ \
#   -H "Content-Type: application/json" \
#   -d '{"license_plate":"ABC-123"}'

# ============================================================================
# ERROR RESPONSE EXAMPLES
# ============================================================================

# 400 Bad Request - Missing required field:
# {
#   "name": ["This field is required."]
# }

# 404 Not Found - User doesn't exist:
# {
#   "detail": "Not found."
# }

# 404 Not Found - Custom error:
# {
#   "error": "User or wallet not found"
# }

# 500 Internal Server Error:
# {
#   "error": "Database connection failed"
# }
